<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/dist/output.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@200;300;400;500;600;700;800&#038;display=swap"
      rel="stylesheet"
    />
    <title> form page</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> 
</head>
<body class="bg-gray-100 pl-2  ">
    <div class="text-4xl text-center font-extrabold text-black border-b-2 border-black p-4 bg-gray-300">
        <h> نظام ادارة العيادة</h>
    </div>
    <div class="grid grid-cols-7 h-screen ">
        <div class="border-r-2  h-full  bg-gray-300 border-b-2 border-black text-right">
            <h class=" font-bold  p-3   ">لوحة التحكم</h>
            <ul class="">
                <li class=" p-3 hover:bg-gray-700  hover:text-white hover:font-semibold border-b-2 border-black font-semibold ">
                    <a href="form.html">حجز</a>
                    <i class='bx bx-home bx-flip-vertical bx-tada'></i>
                </li>
                <li class="p-3 hover:bg-gray-700  hover:text-white hover:font-semibold border-b-2 border-black font-semibold ">
                    <a href="submit.html">البيانات</a>
                    <i class='bx bx-data bx-tada bx-rotate-90'></i>
                </li> 
            </ul>
        </div>
        <div class="w-full md:w-3/4 col-span-6">
            <div class="container mx-auto mt-10 pl-16">
                <h1 class="text-2xl font-bold mb-4 flex">استمارة التسجيل
                    <img class="w-10 pl-2 " src="img/agreement (1).png">
                </h1>
                <form id="myForm">
                    <label class="block mb-2">الاسم:</label>
                    <input type="text" name="name" id="name" class="border rounded-lg px-4 py-2 mb-4">
    
                    <label class="block mb-2">الرقم القومي :</label>
                    <input type="text" name="national_id" id="national_id" class="border rounded-lg px-4 py-2 mb-4">
    
                    <label class="block mb-2">رقم الهاتف:</label>
                    <input type="text" name="phone_number" id="phone_number" class="border rounded-lg px-4 py-2 mb-4">
    
                    <button type="button" onclick="submitForm()" id="submitButton" class="bg-black hover:bg-yellow-300 hover:text-black text-white font-bold py-2 px-4 rounded" disabled>حجز</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        localStorage.removeItem("name");
        localStorage.removeItem("national_id");
        localStorage.removeItem("phone_number");
        document.getElementById("name").value = "";
        document.getElementById("national_id").value = "";
        document.getElementById("phone_number").value = "";
        document.getElementById("submitButton").disabled = true;
    
        function submitForm() {
            var name = document.getElementById("name").value;
            var nationalId = document.getElementById("national_id").value;
            var phoneNumber = document.getElementById("phone_number").value;
    
            localStorage.setItem("name", name);
            localStorage.setItem("national_id", nationalId);
            localStorage.setItem("phone_number", phoneNumber);
    
            var data = {
                name: name,
                national_id: nationalId,
                phone_number: phoneNumber,
                registration_date: new Date().toLocaleString() 
            };
    
            var dataList = JSON.parse(localStorage.getItem("dataList")) || [];
            dataList.push(data);
            localStorage.setItem("dataList", JSON.stringify(dataList));
    
            window.location.href = `submit.html`;
        }
    
        document.getElementById("name").addEventListener("input", toggleSubmitButton);
        document.getElementById("national_id").addEventListener("input", toggleSubmitButton);
        document.getElementById("phone_number").addEventListener("input", toggleSubmitButton);
    
        function toggleSubmitButton() {
            var name = document.getElementById("name").value;
            var nationalId = document.getElementById("national_id").value;
            var phoneNumber = document.getElementById("phone_number").value;
    
            var submitButton = document.getElementById("submitButton");
            if (name.trim() !== "" && nationalId.trim() !== "" && phoneNumber.trim() !== "") {
                submitButton.removeAttribute("disabled");
            } else {
                submitButton.setAttribute("disabled", "disabled");
            }
        }
    </script>
</body>
</html>
